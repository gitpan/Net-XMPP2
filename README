NAME
    Net::XMPP2 - An implementation of the XMPP Protocol

VERSION
    Version 0.02

SYNOPSIS
       use Net::XMPP2::Connection;

    or:

       use Net::XMPP2::IM::Connection;

    or:

       use Net::XMPP2::Client;

DESCRIPTION
    This is the head module of the Net::XMPP2 XMPP client protocol (as
    described in RFC 3920 and RFC 3921) framework.

    Net::XMPP2::Connection is a RFC 3920 conformant "XML" stream
    implementation for clients, which handles TCP connect up to the resource
    binding. And provides low level access to the XML nodes on the XML
    stream along with some high level methods to send the predefined XML
    stanzas.

    Net::XMPP2::IM::Connection is a more high level module, which is derived
    from Net::XMPP2::Connection. It handles all the instant messaging client
    functionality described in RFC 3921.

    Net::XMPP2::Client is a multi account client class. It manages
    connections to multiple XMPP accounts and tries to offer a nice high
    level interface to XMPP communication.

    For a list of "Supported extensions" see below.

    There are also other modules in this distribution, for example:
    Net::XMPP2::Util, Net::XMPP2::Writer, Net::XMPP2::Parser and those I
    forgot :-) Those modules might be helpful and/or required if you want to
    use this framework for XMPP.

    See also Net::XMPP2::Writer for a discussion about the brokeness of XML
    in the XMPP specification.

    If you have any questions or seek for help look below under "SUPPORT".

REQUIREMENTS
    One of the major drawbacks I see for Net::XMPP2 is the long list of
    required modules to make it work.

    AnyEvent
        For the I/O events and timers.

    XML::Writer
        For writing "XML".

    XML::Parser::Expat
        For parsing partial "XML" stuff.

    MIME::Base64
        For SASL authentication

    Authen::SASL
        For SASL authentication

    Net::LibIDN
        For stringprep profiles to handle JIDs.

    Net::SSLeay
        For SSL connections.

    Net::DNS
        For SRV RR lookups.

    And yes, all these are essential for XMPP communication. Even though
    'instant messaging' and 'presence' is a quite simple problem XMPP
    somehow was successful at making the task complicated enough to keep me
    busy for a long time. But all of that time wasn't only for the
    technology required to get it started, mostly it was for all the quirks,
    hacks and badly applied "XML" in the protocol which complicated the
    matter.

RELEASE NOTES
    Here are some notes to the releases (release of this version is at top):

  Version
    * 0.02
        This release adds lots of small improvements on the API (mostly new
        events), and also some bugfixes here and there. The release also
        comes with some new examples, you might want to take a look at the
        "EXAMPLES" section.

        As a highlight I also present the implementation of XEP-0004 (Data
        Forms), see also Net::XMPP2::Ext for a description.

        I also added some convenience functions to Net::XMPP2::Util, for
        example "simxml" which simplifies the generation of XMPP-like "XML".

    * 0.01
        This release has beta status. The code is already used daily in my
        client and I keep looking out for bugs. If you find undocumented,
        missing or faulty code/methods please drop me a mail! See also
        "BUGS" below.

        Potential edges when using this module: sparely documented methods,
        missing functionality and generally bugs bugs and bugs. Even though
        this module is in daily usage there are still lots of cases I might
        have missed.

        For the next release I'm planning to provide more examples in the
        documentation and/or samples/ directory, along with bugfixes and
        enhancements along with some todo items killed from the TODO file.

  TODO
    There are still lots of items on the TODO list (see also the TODO file
    in the distribution of Net::XMPP2).

    Sadly this module still misses some decent DOM implementation. Do you
    know some decent DOM Level 2 implementation for Perl? (I considered
    switchting to XML::LibXML but I somehow have more trust in the "expat"
    XML parser, maybe someone wants to implement XML::LibXML based parsing
    for me (and of course a DOM interface for Net::XMPP2::Node?)

Why (yet) another XMPP module?
    The main outstanding feature of this module in comparison to the other
    XMPP (aka Jabber) modules out there is the support for AnyEvent.
    AnyEvent permits you to use this module together with other I/O event
    based programs and libraries (ie. Gtk2 or Event).

    The other modules could often only be integrated in those applications
    or libraries by using threads. I decided to write this module because I
    think CPAN lacks an event based XMPP module. Threads are unfortunately
    not an alternative in Perl at the moment due the limited threading
    functionality they provide and the global speed hit. I also think that a
    simple event based I/O framework might be a bit easier to handle than
    threads.

    Another thing was that I didn't like the APIs of the other modules. In
    Net::XMPP2 I try to provide low level modules for speaking XMPP as
    defined in RFC 3920 and RFC 3921 (see also Net::XMPP2::Connection and
    Net::XMPP2::IM::Connection). But I also try to provide a high level API
    for easier usage for instant messaging tasks and clients (eg.
    Net::XMPP2::Client).

A note about TLS
    This module also supports TLS, as the specification of XMPP requires an
    implementation to support TLS.

    Maybe there are still some bugs in the handling of TLS in
    Net::XMPP2::Connection. So keep an eye on TLS with this module. If you
    encounter any problems it would be very helpful if you could debug them
    or at least send me a detailed report on how to reproduce the problem.

    (As I use this module myself I don't expect TLS to be completly broken,
    but it might break under different circumstances than I have here. Those
    circumstances might be a different load of data pumped through the TLS
    connection.)

    I mainly expect problems where available data isn't properly read from
    the socket or written to it. You might want to take a look at the
    "debug_send" and "debug_recv" events in Net::XMPP2::Connection.

Supported extensions
    See Net::XMPP2::Ext for a list.

EXAMPLES
    Following examples are included in this distribution:

    samples/simple_example_1
        This example script just connects to a server and sends a message
        and also displays incoming messages on stdout.

    samples/devcl/devcl
        This is a more advanced 'example'. It requires you to have Gtk2
        installed. It's mostly used by the author to implement
        proof-of-concepts. Currently you start the client like this:

           ../Net-XMPP2/samples/devcl/# perl ./devcl <jid> <password>

        The client's main window displays a protocol dump and there is
        currently a service discovery browser implemented.

        This might be a valuable source if you look for more real-world
        applications of Net::XMPP2.

    samples/conference_lister
        See below.

    samples/room_lister
        See below.

    samples/room_lister_stat
        These three scripts implements a global room scan.
        "conference_lister" takes a list of servers (the file is called
        "servers.xml" which has the same format as the xml file at
        <http://www.jabber.org/servers.xml>). It then scans all servers for
        chat room services and lists them into a file "conferences.stor",
        which is a Storable dump.

        "room_lister" then reads that file and queries all services for
        rooms, and then all rooms for their occupants. The output file is
        "room_data.stor", also a Storable dump, which in turn can be read
        with "room_lister_stat", which transform the data structures into
        something human readable.

        These scripts are a bit hacky and quite complicated, but maybe it's
        of any value for someone. You might note "EVQ.pm" in samples which
        is a module that handles request-throttling (You don't want to flood
        the server and risk getting the admins attention :).

    For others, which the author might forgot or didn't want to list here
    see the "samples/" directory.

    More examples will be included in later releases, please feel free to
    ask the "AUTHOR" if you have any questions about the API. There is also
    an IRC channel, see "SUPPORT".

AUTHOR
    Robin Redeker, "<elmex at ta-sa.org>", JID: "<elmex at jabber.org>"

BUGS
    Please note that I'm currently (July 2007) the only developer on this
    project and I'm very busy with my studies in Computer Science in Summer
    2007. If you want to ease my workload or want timely releases, please
    send me patches instead of bug reports or feature requests. I won't
    forget the reports or requests if you can't or didn't send patches, but
    it can take a long time until I get enough time to fix/implement them.

    Also try to be as precise as possible with bug reports, if you can't
    send a patch, it would be best if you find out which code doesn't work
    and tell me why.

    Please report any bugs or feature requests to "bug-net-xmpp2 at
    rt.cpan.org", or through the web interface at
    <http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Net-XMPP2>. I will be
    notified and then you'll automatically be notified of progress on your
    bug as I make changes.

SUPPORT
    You can find documentation for this module with the perldoc command.

        perldoc Net::XMPP2

    You can also look for information at:

    * IRC: Net::XMPP2 IRC Channel
          IRC Network: http://freenode.net/
          Server     : chat.freenode.net
          Channel    : #net_xmpp2

          Feel free to join and ask questions!

    * Net::XMPP2 Project Site
        <http://www.ta-sa.org/>

    * AnnoCPAN: Annotated CPAN documentation
        <http://annocpan.org/dist/Net-XMPP2>

    * CPAN Ratings
        <http://cpanratings.perl.org/d/Net-XMPP2>

    * RT: CPAN's request tracker
        <http://rt.cpan.org/NoAuth/Bugs.html?Dist=Net-XMPP2>

    * Search CPAN
        <http://search.cpan.org/dist/Net-XMPP2>

ACKNOWLEDGEMENTS
    Thanks to the XSF for the development of an open instant messaging
    protocol (even though it uses "XML").

    And thanks to all people who had to listen to my desperate curses about
    the brokenness/braindeadness of XMPP. Without you I would've never
    brought this module to a usable state.

    Thanks to:

    * Carlo von Loesch (aka lynX) <http://www.psyced.org/>
        For pointing out some typos.

COPYRIGHT & LICENSE
    Copyright 2007 Robin Redeker, all rights reserved.

    This program is free software; you can redistribute it and/or modify it
    under the same terms as Perl itself.

